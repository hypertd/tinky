#!/usr/bin/env php
<?php
//psysh loader
if(file_exists(__DIR__ . '/vendor/autoload.php')){
    $psyLoader = require_once __DIR__ . '/vendor/autoload.php';
}

//config setup
$bootConfig = (include __DIR__.'/Config.php');

//defaults framework
$defaultIncludes = [
    __DIR__.'/core/tools/adapter/Adapters.php'
];

//framework if set
if(isset($bootConfig['bootstrapFile']) && file_exists(__DIR__.'/core/bootstraps/'.$bootConfig['bootstrapFile'])){
    $defaultIncludes[] = __DIR__.'/core/bootstraps/'.$bootConfig['bootstrapFile'];
}

//preset tools
// foreach (glob("tools/*.php") as $filename){
//     $defaultIncludes[] = $filename;
// }

$defaultIncludes[] = __DIR__."/Whiteboard.php";

$config = new \Psy\Configuration();
$config->setDefaultIncludes($defaultIncludes);
$shell = new \Psy\Shell($config);
$shell->run();